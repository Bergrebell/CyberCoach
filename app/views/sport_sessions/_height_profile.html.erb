<script>
    function plot_height_profile() {
        <% if heights.present? %>
        var heights = {
            label: 'height [m]',
            data: <%= heights %>,
            color: 'blue',
            lines: { show: true }
        };

        function kmFormatter(v, axis) {
            return v.toFixed(axis.tickDecimals) + ' km';
        }

        function mFormatter(v, axis) {
            return v.toFixed(axis.tickDecimals) + ' m';
        }

        $.plot("#profile_plot", [heights], {
            xaxes: [
                { tickFormatter: kmFormatter}
            ],
            yaxes: [
                { tickFormatter: mFormatter}
            ],
            zoom: {
                interactive: true
            },
            pan: {
                interactive: true
            }
        });
        <% end %>
    }
</script>
