<script>
    function plot_pace_profile() {
        <% if @paces.present? %>
        var paces = {
            label: 'pace [minutes per 1 km]',
            data: <%= @paces %>,
            color: 'red',
            lines: { show: true }
        };

        function kmFormatter(v, axis) {
            return v.toFixed(axis.tickDecimals) + ' km';
        }

        function sFormatter(v, axis) {
            return v.toFixed(axis.tickDecimals) + ' m';
        }

        $.plot("#pace_plot", [paces], {
            xaxes: [
                { tickFormatter: kmFormatter}
            ],
            yaxes: [
                { tickFormatter: sFormatter}
            ],
            zoom: {
                interactive: true
            },
            pan: {
                interactive: true
            },
            grid: {
                hoverable: true,
                clickable: true
            }
        });
        <% end %>
    }
</script>