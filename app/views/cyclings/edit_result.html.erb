<div class="uk-grid" data-uk-grid-margin>
  <div class="uk-width-medium-3-4">
    <h1 class="uk-heading-large"><%= @cycling.title %></h1>
    <p class="uk-text-large"><%= @cycling.comment %></p>
  </div>
</div>

<% if @result.errors.any? %>

    <%= render :partial => 'sport_sessions/error_messages', :locals => {:session => @result} %>

<% end %>


<div class="uk-grid" data-uk-grid-margin>
  <div class="uk-width-medium-2-3">

    <div class="uk-panel uk-panel-header uk-panel-box uk-panel-box-secondary">
      <h3 class="uk-title">Edit Results</h3>

      <div class="uk-text-small uk-margin-bottom">Note: If you don't provide a GPX file, you must fill out the time and length fields</div>

      <%= form_for :sport_session_result, url: cycling_path(@cycling) + '/result/save', action: :post, html: { class: 'uk-form uk-form-stacked' } do |f| %>

          <div class="uk-form-row">
            <label class="uk-form-label">Time (minutes)</label>
            <div class="uk-form-controls">
              <%= f.text_field :time, placeholder: 'minutes', value: @result.time, class: 'uk-width-1-1' %>
            </div>
          </div>

          <div class="uk-form-row">
            <label class="uk-form-label">Length (meters)</label>
            <div class="uk-form-controls">
              <%= f.text_field :length, placeholder: 'meters', value: @result.length, class: 'uk-width-1-1' %>
            </div>
          </div>

          <!-- File upload -->
          <div class="uk-form-row">
            <label class="uk-form-label" for="entry_location">GPX File</label>

            <div class="uk-form-controls">
              <%= f.file_field 'file', class: 'uk-width-1-1' %>
            </div>
          </div>

          <div class="uk-form-row">
            <div class="uk-form-controls">
              <%= f.button 'Save', class: 'uk-button uk-button-primary' %>
            </div>
          </div>

      <% end %>


    </div>

    <%= render :partial => 'table_attributes', :locals => {:sport_session => @cycling} %>

  </div>

  <div class="uk-width-medium-1-3">

    <%= render :partial => 'sport_sessions/users_joining', :locals => { :sport_session => @cycling } %>

    <!--<div class="uk-panel uk-panel-box">-->
      <!--<h3 class="uk-panel-title"><i class="uk-icon-star"></i> Achievements</h3>-->
      <!--Yeah :)-->
    <!--</div>-->

  </div>
</div>